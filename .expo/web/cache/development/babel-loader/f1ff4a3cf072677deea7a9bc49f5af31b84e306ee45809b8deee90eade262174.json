{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport api from \"../plugins/api\";\nvar LivroService = function () {\n  function LivroService() {\n    _classCallCheck(this, LivroService);\n  }\n  _createClass(LivroService, [{\n    key: \"getAllLivros\",\n    value: function () {\n      var _getAllLivros = _asyncToGenerator(function* () {\n        var response = yield api.get('/livros/');\n        return response.data;\n      });\n      function getAllLivros() {\n        return _getAllLivros.apply(this, arguments);\n      }\n      return getAllLivros;\n    }()\n  }, {\n    key: \"saveLivro\",\n    value: function () {\n      var _saveLivro = _asyncToGenerator(function* (Livro, image) {\n        Livro.categoria = [Livro.categoria];\n        Livro.autores = [Livro.autores];\n        Livro.capa_attachment_key = image.attachment_key;\n        console.log(Livro);\n        var response = yield api.post('/livros/', Livro);\n        return response.data;\n      });\n      function saveLivro(_x, _x2) {\n        return _saveLivro.apply(this, arguments);\n      }\n      return saveLivro;\n    }()\n  }, {\n    key: \"deleteLivro\",\n    value: function () {\n      var _deleteLivro = _asyncToGenerator(function* (Livro) {\n        try {\n          console.log(\"ID do Livro a ser deletado:\", Livro.id);\n          var response = yield api.delete(\"/livros/\" + Livro.id + \"/\");\n          return response.data;\n        } catch (error) {\n          console.error(\"Erro ao excluir livro:\", error);\n          throw error;\n        }\n      });\n      function deleteLivro(_x3) {\n        return _deleteLivro.apply(this, arguments);\n      }\n      return deleteLivro;\n    }()\n  }]);\n  return LivroService;\n}();\nexport default new LivroService();","map":{"version":3,"names":["api","LivroService","_classCallCheck","_createClass","key","value","_getAllLivros","_asyncToGenerator","response","get","data","getAllLivros","apply","arguments","_saveLivro","Livro","image","categoria","autores","capa_attachment_key","attachment_key","console","log","post","saveLivro","_x","_x2","_deleteLivro","id","delete","error","deleteLivro","_x3"],"sources":["/home/davigtomaz/PI-3ano-ReactNative/src/services/livros.js"],"sourcesContent":["import api from '../plugins/api'\n\nclass LivroService {\n  async getAllLivros() {\n    const response = await api.get('/livros/')\n    return response.data\n  }\n  async saveLivro(Livro, image) {\n    Livro.categoria = [Livro.categoria]\n    Livro.autores = [Livro.autores]\n    Livro.capa_attachment_key = image.attachment_key\n    console.log(Livro)\n    const response = await api.post('/livros/', Livro)\n    return response.data\n  }\n  async deleteLivro(Livro) {\n    try {\n      console.log(\"ID do Livro a ser deletado:\", Livro.id);\n      const response = await api.delete(`/livros/${Livro.id}/`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Erro ao excluir livro:\", error);\n      throw error;\n    }\n  }\n}\n\nexport default new LivroService()"],"mappings":";;;AAAA,OAAOA,GAAG;AAAsB,IAE1BC,YAAY;EAAA,SAAAA,aAAA;IAAAC,eAAA,OAAAD,YAAA;EAAA;EAAAE,YAAA,CAAAF,YAAA;IAAAG,GAAA;IAAAC,KAAA;MAAA,IAAAC,aAAA,GAAAC,iBAAA,CAChB,aAAqB;QACnB,IAAMC,QAAQ,SAASR,GAAG,CAACS,GAAG,CAAC,UAAU,CAAC;QAC1C,OAAOD,QAAQ,CAACE,IAAI;MACtB,CAAC;MAAA,SAAAC,aAAA;QAAA,OAAAL,aAAA,CAAAM,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAF,YAAA;IAAA;EAAA;IAAAP,GAAA;IAAAC,KAAA;MAAA,IAAAS,UAAA,GAAAP,iBAAA,CACD,WAAgBQ,KAAK,EAAEC,KAAK,EAAE;QAC5BD,KAAK,CAACE,SAAS,GAAG,CAACF,KAAK,CAACE,SAAS,CAAC;QACnCF,KAAK,CAACG,OAAO,GAAG,CAACH,KAAK,CAACG,OAAO,CAAC;QAC/BH,KAAK,CAACI,mBAAmB,GAAGH,KAAK,CAACI,cAAc;QAChDC,OAAO,CAACC,GAAG,CAACP,KAAK,CAAC;QAClB,IAAMP,QAAQ,SAASR,GAAG,CAACuB,IAAI,CAAC,UAAU,EAAER,KAAK,CAAC;QAClD,OAAOP,QAAQ,CAACE,IAAI;MACtB,CAAC;MAAA,SAAAc,UAAAC,EAAA,EAAAC,GAAA;QAAA,OAAAZ,UAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAW,SAAA;IAAA;EAAA;IAAApB,GAAA;IAAAC,KAAA;MAAA,IAAAsB,YAAA,GAAApB,iBAAA,CACD,WAAkBQ,KAAK,EAAE;QACvB,IAAI;UACFM,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEP,KAAK,CAACa,EAAE,CAAC;UACpD,IAAMpB,QAAQ,SAASR,GAAG,CAAC6B,MAAM,cAAYd,KAAK,CAACa,EAAE,OAAI;UACzD,OAAOpB,QAAQ,CAACE,IAAI;QACtB,CAAC,CAAC,OAAOoB,KAAK,EAAE;UACdT,OAAO,CAACS,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C,MAAMA,KAAK;QACb;MACF,CAAC;MAAA,SAAAC,YAAAC,GAAA;QAAA,OAAAL,YAAA,CAAAf,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAkB,WAAA;IAAA;EAAA;EAAA,OAAA9B,YAAA;AAAA;AAGH,eAAe,IAAIA,YAAY,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}