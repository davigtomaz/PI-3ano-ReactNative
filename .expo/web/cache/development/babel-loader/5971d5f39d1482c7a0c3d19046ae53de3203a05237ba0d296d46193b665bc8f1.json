{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React, { Component } from 'react';\nimport InteractionManager from \"react-native-web/dist/exports/InteractionManager\";\nimport PropTypes from 'prop-types';\nimport { Path } from 'react-native-svg';\nimport * as interpolate from 'd3-interpolate-path';\nvar AnimatedPath = function (_Component) {\n  _inherits(AnimatedPath, _Component);\n  var _super = _createSuper(AnimatedPath);\n  function AnimatedPath(props) {\n    var _this;\n    _classCallCheck(this, AnimatedPath);\n    _this = _super.call(this, props);\n    _this.state = {\n      d: props.d\n    };\n    return _this;\n  }\n  _createClass(AnimatedPath, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(props) {\n      var _this$props = this.props,\n        newD = _this$props.d,\n        animate = _this$props.animate;\n      var oldD = props.d;\n      this.newD = newD;\n      if (newD === oldD) {\n        return;\n      }\n      if (!animate || newD === null || oldD === null) {\n        return;\n      }\n      this.newD = newD;\n      this.interpolator = interpolate.interpolatePath(oldD, newD);\n      this._animate();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelAnimationFrame(this.animation);\n      this._clearInteraction();\n    }\n  }, {\n    key: \"_animate\",\n    value: function _animate(start) {\n      var _this2 = this;\n      cancelAnimationFrame(this.animation);\n      this.animation = requestAnimationFrame(function (timestamp) {\n        if (!start) {\n          _this2._clearInteraction();\n          _this2.handle = InteractionManager.createInteractionHandle();\n          start = timestamp;\n        }\n        var delta = (timestamp - start) / _this2.props.animationDuration;\n        if (delta > 1) {\n          _this2.component.setNativeProps({\n            d: _this2.newD\n          });\n          _this2._clearInteraction();\n          return;\n        }\n        var d = _this2.interpolator(delta);\n        _this2.component.setNativeProps({\n          d: d\n        });\n        _this2.setState(_this2.state, function () {\n          _this2._animate(start);\n        });\n      });\n    }\n  }, {\n    key: \"_clearInteraction\",\n    value: function _clearInteraction() {\n      if (this.handle) {\n        InteractionManager.clearInteractionHandle(this.handle);\n        this.handle = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      return React.createElement(Path, _extends({\n        ref: function ref(_ref) {\n          return _this3.component = _ref;\n        }\n      }, this.props, {\n        d: this.props.animate ? this.state.d : this.props.d\n      }));\n    }\n  }]);\n  return AnimatedPath;\n}(Component);\nAnimatedPath.propTypes = _objectSpread({\n  animate: PropTypes.bool,\n  animationDuration: PropTypes.number,\n  renderPlaceholder: PropTypes.func\n}, Path.propTypes);\nAnimatedPath.defaultProps = {\n  animate: false,\n  animationDuration: 300,\n  renderPlaceholder: function renderPlaceholder() {\n    return null;\n  }\n};\nexport default AnimatedPath;","map":{"version":3,"names":["React","Component","InteractionManager","PropTypes","Path","interpolate","AnimatedPath","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","d","_createClass","key","value","componentDidUpdate","_this$props","newD","animate","oldD","interpolator","interpolatePath","_animate","componentWillUnmount","cancelAnimationFrame","animation","_clearInteraction","start","_this2","requestAnimationFrame","timestamp","handle","createInteractionHandle","delta","animationDuration","component","setNativeProps","setState","clearInteractionHandle","render","_this3","createElement","_extends","ref","_ref","propTypes","_objectSpread","bool","number","renderPlaceholder","func","defaultProps"],"sources":["/home/davigtomaz/PI-3ano-ReactNative/node_modules/react-native-svg-charts/lib/module/animated-path.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { InteractionManager } from 'react-native'\nimport PropTypes from 'prop-types'\nimport { Path } from 'react-native-svg'\nimport * as interpolate from 'd3-interpolate-path'\n\nclass AnimatedPath extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = { d: props.d }\n    }\n\n    componentDidUpdate(props) {\n        const { d: newD, animate } = this.props\n        const { d: oldD } = props\n\n        this.newD = newD\n\n        if (newD === oldD) {\n            return\n        }\n\n        if (!animate || newD === null || oldD === null) {\n            return\n        }\n\n        this.newD = newD\n        this.interpolator = interpolate.interpolatePath(oldD, newD)\n\n        this._animate()\n    }\n\n    componentWillUnmount() {\n        cancelAnimationFrame(this.animation)\n        this._clearInteraction()\n    }\n\n    _animate(start) {\n        cancelAnimationFrame(this.animation)\n        this.animation = requestAnimationFrame((timestamp) => {\n            if (!start) {\n                this._clearInteraction()\n                this.handle = InteractionManager.createInteractionHandle()\n\n                start = timestamp\n            }\n\n            // Get the delta on how far long in our animation we are.\n            const delta = (timestamp - start) / this.props.animationDuration\n\n            // If we're above 1 then our animation should be complete.\n            if (delta > 1) {\n                // Just to be safe set our final value to the new graph path.\n                this.component.setNativeProps({ d: this.newD })\n                // Stop our animation loop.\n                this._clearInteraction()\n                return\n            }\n\n            const d = this.interpolator(delta)\n            this.component.setNativeProps({ d })\n            // console.log(this.interpolator)\n            // this.tween && console.log(this.tween.tween(delta))\n            // Tween the SVG path value according to what delta we're currently at.\n\n            // Update our state with the new tween value and then jump back into\n            // this loop.\n            this.setState(this.state, () => {\n                this._animate(start)\n            })\n        })\n    }\n\n    _clearInteraction() {\n        if (this.handle) {\n            InteractionManager.clearInteractionHandle(this.handle)\n            this.handle = null\n        }\n    }\n\n    render() {\n        return (\n            <Path\n                ref={(ref) => (this.component = ref)}\n                {...this.props}\n                d={this.props.animate ? this.state.d : this.props.d}\n            />\n        )\n    }\n}\n\nAnimatedPath.propTypes = {\n    animate: PropTypes.bool,\n    animationDuration: PropTypes.number,\n    renderPlaceholder: PropTypes.func,\n    ...Path.propTypes,\n}\n\nAnimatedPath.defaultProps = {\n    animate: false,\n    animationDuration: 300,\n    renderPlaceholder: () => null,\n}\n\nexport default AnimatedPath\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}