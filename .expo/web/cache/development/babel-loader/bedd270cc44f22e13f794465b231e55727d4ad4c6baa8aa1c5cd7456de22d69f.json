{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useEffect, useMemo, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nexport var PortalContext = createContext(null);\nexport var usePortalContext = function usePortalContext() {\n  var portal = useContext(PortalContext);\n  if (!portal) {\n    throw new Error('usePortalContext must be used within a PortalContext');\n  }\n  return portal;\n};\nexport var PortalProvider = function PortalProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    portals = _useState2[0],\n    setPortals = _useState2[1];\n  return React.createElement(PortalContext.Provider, {\n    value: {\n      portals: portals,\n      setPortals: setPortals\n    }\n  }, children);\n};\nexport var Outlet = function Outlet() {\n  var _usePortalContext = usePortalContext(),\n    portals = _usePortalContext.portals;\n  return React.createElement(React.Fragment, null, portals.map(function (_ref2) {\n    var key = _ref2.key,\n      children = _ref2.children;\n    return React.createElement(View, {\n      key: key,\n      pointerEvents: \"box-none\",\n      style: StyleSheet.absoluteFill\n    }, children);\n  }));\n};\nexport var Portal = function Portal(_ref3) {\n  var key = _ref3.key,\n    children = _ref3.children;\n  var _usePortalContext2 = usePortalContext(),\n    setPortals = _usePortalContext2.setPortals;\n  var _key = useMemo(function () {\n    return key !== null && key !== void 0 ? key : \"\" + (Date.now() + Math.random());\n  }, [key]);\n  useEffect(function () {\n    setPortals(function (portals) {\n      return [].concat(_toConsumableArray(portals), [{\n        key: _key,\n        children: children\n      }]);\n    });\n    return function () {\n      setPortals(function (portals) {\n        return portals.filter(function (p) {\n          return p.key !== _key;\n        });\n      });\n    };\n  }, [_key, setPortals, children]);\n  return null;\n};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useMemo","useState","StyleSheet","View","PortalContext","usePortalContext","portal","Error","PortalProvider","_ref","children","_useState","_useState2","_slicedToArray","portals","setPortals","createElement","Provider","value","Outlet","_usePortalContext","Fragment","map","_ref2","key","pointerEvents","style","absoluteFill","Portal","_ref3","_usePortalContext2","_key","Date","now","Math","random","concat","_toConsumableArray","filter","p"],"sources":["/home/ariane.junkes/PI-3ano-ReactNative/node_modules/@react-native-material/core/lib/module/base/PortalContext.tsx"],"sourcesContent":["import React, { createContext, Dispatch, SetStateAction, useContext, useEffect, useMemo, useState } from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nexport const PortalContext = createContext<{\n  portals: PortalProps[];\n  setPortals: Dispatch<SetStateAction<PortalProps[]>>;\n} | null>(null);\n\nexport const usePortalContext = () => {\n  const portal = useContext(PortalContext);\n  if (!portal) {\n    throw new Error('usePortalContext must be used within a PortalContext');\n  }\n  return portal;\n};\n\nexport const PortalProvider: React.FC = ({ children }) => {\n  const [portals, setPortals] = useState<PortalProps[]>([]);\n\n  return <PortalContext.Provider value={{ portals, setPortals }}>{children}</PortalContext.Provider>;\n};\n\nexport const Outlet: React.FC = () => {\n  const { portals } = usePortalContext();\n\n  return (\n    <React.Fragment>\n      {portals.map(({ key, children }) => (\n        <View key={key} pointerEvents=\"box-none\" style={StyleSheet.absoluteFill}>\n          {children}\n        </View>\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport interface PortalProps {\n  key?: React.Key;\n\n  children?: React.ReactNode;\n}\n\nexport const Portal: React.FC<PortalProps> = ({ key, children }) => {\n  const { setPortals } = usePortalContext();\n\n  const _key = useMemo(() => key ?? `${Date.now() + Math.random()}`, [key]);\n\n  useEffect(() => {\n    setPortals((portals) => [...portals, { key: _key, children }]);\n\n    return () => {\n      setPortals((portals) => portals.filter((p) => p.key !== _key));\n    };\n  }, [_key, setPortals, children]);\n\n  return null;\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAAyDC,UAAzD,EAAqEC,SAArE,EAAgFC,OAAhF,EAAyFC,QAAzF,QAAyG,OAAzG;AAAA,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAGA,OAAO,IAAMC,aAAa,GAAGP,aAAa,CAGhC,IAHgC,CAAnC;AAKP,OAAO,IAAMQ,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;EACpC,IAAMC,MAAM,GAAGR,UAAU,CAACM,aAAD,CAAzB;EACA,IAAI,CAACE,MAAL,EAAa;IACX,MAAM,IAAIC,KAAJ,CAAU,sDAAV,CAAN;EACD;EACD,OAAOD,MAAP;AACD,CANM;AAQP,OAAO,IAAME,cAAwB,GAAG,SAA3BA,cAAwBA,CAAGC,IAAA,EAAkB;EAAA,IAAfC,QAAA,GAAeD,IAAA,CAAfC,QAAA;EACzC,IAAAC,SAAA,GAA8BV,QAAQ,CAAgB,EAAhB,CAAtC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAOG,OAAD,GAAAF,UAAA;IAAUG,UAAV,GAAAH,UAAA;EAEN,OAAOhB,KAAA,CAAAoB,aAAA,CAACZ,aAAD,CAAea,QAAf;IAAwBC,KAAK,EAAE;MAAEJ,OAAF,EAAEA,OAAF;MAAWC,UAAA,EAAAA;IAAX;EAA/B,GAAyDL,QAAzD,CAAP;AACD,CAJM;AAMP,OAAO,IAAMS,MAAgB,GAAG,SAAnBA,MAAgBA,CAAA,EAAS;EACpC,IAAAC,iBAAA,GAAoBf,gBAAgB,EAApC;IAAQS,OAAA,GAAAM,iBAAA,CAAAN,OAAA;EAER,OACElB,KAAA,CAAAoB,aAAA,CAACpB,KAAD,CAAOyB,QAAP,QACGP,OAAO,CAACQ,GAAR,CAAY,UAAAC,KAAA;IAAA,IAAGC,GAAF,GAADD,KAAA,CAAGC,GAAF;MAAOd,QAAA,GAARa,KAAA,CAAQb,QAAA;IAAR,OACXd,KAAA,CAAAoB,aAAA,CAACb,IAAD;MAAMqB,GAAG,EAAEA,GAAX;MAAgBC,aAAa,EAAC,UAA9B;MAAyCC,KAAK,EAAExB,UAAU,CAACyB;IAA3D,GACGjB,QADH,CADW;EAAA,CAAZ,CADH,CADF;AASD,CAZM;AAoBP,OAAO,IAAMkB,MAA6B,GAAG,SAAhCA,MAA6BA,CAAGC,KAAA,EAAuB;EAAA,IAApBL,GAAF,GAAsBK,KAAA,CAApBL,GAAF;IAAOd,QAAA,GAAemB,KAAA,CAAfnB,QAAA;EACnD,IAAAoB,kBAAA,GAAuBzB,gBAAgB,EAAvC;IAAQU,UAAA,GAAAe,kBAAA,CAAAf,UAAA;EAER,IAAMgB,IAAI,GAAG/B,OAAO,CAAC;IAAA,OAAMwB,GAAN,aAAMA,GAAN,cAAMA,GAAN,SAAgBQ,IAAI,CAACC,GAAL,KAAaC,IAAI,CAACC,MAAL,EAAc,CAA5C;EAAA,GAA+C,CAACX,GAAD,CAA/C,CAApB;EAEAzB,SAAS,CAAC,YAAM;IACdgB,UAAU,CAAE,UAAAD,OAAD;MAAA,UAAAsB,MAAA,CAAAC,kBAAA,CAAiBvB,OAAJ,IAAa;QAAEU,GAAG,EAAEO,IAAP;QAAarB,QAAA,EAAAA;MAAb,CAAb;IAAA,CAAd,CAAV;IAEA,OAAO,YAAM;MACXK,UAAU,CAAE,UAAAD,OAAD;QAAA,OAAaA,OAAO,CAACwB,MAAR,CAAgB,UAAAC,CAAD;UAAA,OAAOA,CAAC,CAACf,GAAF,KAAUO,IAAhC;QAAA,EAAd;MAAA,EAAV;IACD,CAFD;EAGD,CANQ,EAMN,CAACA,IAAD,EAAOhB,UAAP,EAAmBL,QAAnB,CANM,CAAT;EAQA,OAAO,IAAP;AACD,CAdM"},"metadata":{},"sourceType":"module","externalDependencies":[]}