{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { FAB, Text } from \"react-native-paper\";\nimport emprestimoService from \"../src/services/emprestimos.js\";\nimport CardEmprestimo from \"../components/CardEmprestimo.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LoanScreen(_ref) {\n  var navigation = _ref.navigation;\n  var handleDeleteEmprestimo = function () {\n    var _ref2 = _asyncToGenerator(function* (emprestimo) {\n      try {\n        yield emprestimoService.deleteEmprestimo(emprestimo);\n      } catch (error) {\n        console.error(\"Erro ao excluir emprestimo:\", error);\n      }\n    });\n    return function handleDeleteEmprestimo(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    emprestimos = _useState4[0],\n    setEmprestimos = _useState4[1];\n  function BuscarDados() {\n    return _BuscarDados.apply(this, arguments);\n  }\n  function _BuscarDados() {\n    _BuscarDados = _asyncToGenerator(function* () {\n      var data = yield emprestimoService.getAllEmprestimos();\n      setEmprestimos(data);\n    });\n    return _BuscarDados.apply(this, arguments);\n  }\n  useEffect(function () {\n    BuscarDados();\n  }, []);\n  var onRefresh = useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield BuscarDados();\n    setRefreshing(false);\n  }), []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(ScrollView, {\n      style: styles.scrollView,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh\n      }),\n      children: _jsxs(View, {\n        children: [_jsx(View, {\n          style: {\n            alignItems: \"center\"\n          },\n          children: _jsx(Text, {\n            style: styles.texto,\n            children: \"Seus Empr\\xE9stimos\"\n          })\n        }), _jsx(View, {\n          style: styles.conteudo,\n          children: emprestimos.map(function (Emprestimo) {\n            return _jsx(CardEmprestimo, {\n              emprestimo: Emprestimo,\n              onDelete: handleDeleteEmprestimo\n            }, Emprestimo.id);\n          })\n        })]\n      })\n    }), _jsx(View, {\n      style: styles.buttons,\n      children: _jsx(FAB, {\n        mode: \"contained\",\n        icon: \"book-plus\",\n        color: \"white\",\n        style: styles.fab,\n        onPress: function onPress() {\n          return navigation.navigate(\"LoanAdd\");\n        }\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"#cad2c5\"\n  },\n  scrollView: {\n    marginHorizontal: 9\n  },\n  conteudo: {\n    width: \"100%\",\n    textAlign: \"center\"\n  },\n  texto: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"black\"\n  },\n  buttons: {\n    position: \"absolute\",\n    bottom: 100,\n    right: 30,\n    zIndex: 1,\n    borderRadius: 20,\n    height: 60,\n    width: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  fab: {\n    backgroundColor: \"#2f3e46\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useCallback","SafeAreaView","StyleSheet","View","ScrollView","RefreshControl","FAB","Text","emprestimoService","CardEmprestimo","jsx","_jsx","jsxs","_jsxs","LoanScreen","_ref","navigation","handleDeleteEmprestimo","_ref2","_asyncToGenerator","emprestimo","deleteEmprestimo","error","console","_x","apply","arguments","_useState","_useState2","_slicedToArray","refreshing","setRefreshing","_useState3","_useState4","emprestimos","setEmprestimos","BuscarDados","_BuscarDados","data","getAllEmprestimos","onRefresh","style","styles","container","children","scrollView","refreshControl","alignItems","texto","conteudo","map","Emprestimo","onDelete","id","buttons","mode","icon","color","fab","onPress","navigate","create","flex","flexDirection","backgroundColor","marginHorizontal","width","textAlign","justifyContent","position","bottom","right","zIndex","borderRadius","height"],"sources":["/home/davigtomaz/PI-3ano-ReactNative/Screen/LoanScreen.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  SafeAreaView,\n  StyleSheet,\n  View,\n  ScrollView,\n  RefreshControl\n} from \"react-native\";\nimport { FAB, Text } from \"react-native-paper\";\n\nimport emprestimoService from \"../src/services/emprestimos.js\"\n\nimport CardEmprestimo from \"../components/CardEmprestimo.js\";\n\nexport default function LoanScreen({ navigation }) {\n\n  const handleDeleteEmprestimo = async (emprestimo) => {\n    try {\n      await emprestimoService.deleteEmprestimo(emprestimo);\n     \n    } catch (error) {\n      console.error(\"Erro ao excluir emprestimo:\", error);\n\n    }\n  };\n\n\n  const [refreshing, setRefreshing] = useState(false);\n  const [emprestimos, setEmprestimos] = useState([]);\n\n  \n  async function BuscarDados() {\n    const data = await emprestimoService.getAllEmprestimos();\n    setEmprestimos(data);\n  }\n  \n  useEffect(() => {\n    BuscarDados();\n  }, []);\n  \n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    await BuscarDados();\n    setRefreshing(false);\n  }, []);\n  \n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView style={styles.scrollView} refreshControl={\n        <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n      }>\n        <View>\n          <View style={{ alignItems: \"center\" }}>\n            <Text style={styles.texto}>Seus Empr√©stimos</Text>\n          </View>\n          <View style={styles.conteudo}>\n            {emprestimos.map((Emprestimo) => (\n              <CardEmprestimo key={Emprestimo.id} emprestimo={Emprestimo} onDelete={handleDeleteEmprestimo} />\n            ))}\n          </View>\n        </View>\n      </ScrollView>\n      <View style={styles.buttons}>\n        <FAB\n          mode=\"contained\"\n          icon=\"book-plus\"\n          color='white'\n          style={styles.fab}\n          onPress={() => navigation.navigate(\"LoanAdd\")}\n        >\n        </FAB>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"#cad2c5\",\n  },\n  scrollView: {\n    marginHorizontal: 9,\n  },\n  conteudo: {\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  texto: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"black\",\n  },\n  buttons: {\n    position: \"absolute\",\n    bottom: 100,\n    right: 30,\n    zIndex: 1,\n    borderRadius: 20,\n    height: 60,\n    width: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  fab: {\n    backgroundColor: \"#2f3e46\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}