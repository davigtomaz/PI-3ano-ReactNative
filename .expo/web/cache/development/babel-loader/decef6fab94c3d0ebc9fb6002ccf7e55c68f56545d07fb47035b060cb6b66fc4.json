{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { FAB, Text } from \"react-native-paper\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { StatusBar } from \"expo-status-bar\";\nimport livroService from \"../src/services/livros.js\";\nimport Card from \"../components/Card.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LivroListScreen(_ref) {\n  var navigation = _ref.navigation;\n  var handleDeleteLivro = function () {\n    var _ref2 = _asyncToGenerator(function* (livro) {\n      try {\n        yield livroService.deleteLivro(livro);\n      } catch (error) {\n        console.error(\"Erro ao excluir livro:\", error);\n      }\n    });\n    return function handleDeleteLivro(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    Livros = _useState4[0],\n    setLivros = _useState4[1];\n  function BuscarDados() {\n    return _BuscarDados.apply(this, arguments);\n  }\n  function _BuscarDados() {\n    _BuscarDados = _asyncToGenerator(function* () {\n      var data = yield livroService.getAllLivros();\n      setLivros(data);\n    });\n    return _BuscarDados.apply(this, arguments);\n  }\n  useEffect(function () {\n    BuscarDados();\n  }, []);\n  var onRefresh = useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield BuscarDados();\n    setRefreshing(false);\n  }), []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(ScrollView, {\n      style: styles.scrollView,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh\n      }),\n      children: _jsxs(View, {\n        children: [_jsx(View, {\n          style: {\n            alignItems: \"center\"\n          },\n          children: _jsx(Text, {\n            style: styles.texto,\n            children: \"Seus Livros\"\n          })\n        }), _jsx(View, {\n          style: styles.conteudo,\n          children: Livros.map(function (Livro) {\n            return _jsx(Card, {\n              livro: Livro,\n              onDelete: handleDeleteLivro\n            }, Livro.id);\n          })\n        })]\n      })\n    }), _jsx(View, {\n      style: styles.buttons,\n      children: _jsx(FAB, {\n        mode: \"contained\",\n        icon: \"book-plus\",\n        color: \"white\",\n        style: styles.fab,\n        onPress: function onPress() {\n          return navigation.navigate(\"LivroAdd\");\n        }\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"#cad2c5\"\n  },\n  scrollView: {\n    marginHorizontal: 9\n  },\n  conteudo: {\n    width: \"100%\",\n    textAlign: \"center\"\n  },\n  texto: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"black\"\n  },\n  buttons: {\n    position: \"absolute\",\n    bottom: 100,\n    right: 30,\n    zIndex: 1,\n    borderRadius: 20,\n    height: 60,\n    width: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  fab: {\n    backgroundColor: \"white\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useCallback","SafeAreaView","StyleSheet","View","ScrollView","RefreshControl","FAB","Text","MaterialCommunityIcons","StatusBar","livroService","Card","jsx","_jsx","jsxs","_jsxs","LivroListScreen","_ref","navigation","handleDeleteLivro","_ref2","_asyncToGenerator","livro","deleteLivro","error","console","_x","apply","arguments","_useState","_useState2","_slicedToArray","refreshing","setRefreshing","_useState3","_useState4","Livros","setLivros","BuscarDados","_BuscarDados","data","getAllLivros","onRefresh","style","styles","container","children","scrollView","refreshControl","alignItems","texto","conteudo","map","Livro","onDelete","id","buttons","mode","icon","color","fab","onPress","navigate","create","flex","flexDirection","backgroundColor","marginHorizontal","width","textAlign","justifyContent","position","bottom","right","zIndex","borderRadius","height"],"sources":["/home/davigtomaz/PI-3ano-ReactNative/Screen/LivroListScreen.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  SafeAreaView,\n  StyleSheet,\n  View,\n  ScrollView,\n  RefreshControl\n} from \"react-native\";\nimport { FAB, Text } from \"react-native-paper\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport livroService from \"../src/services/livros.js\";\n\nimport Card from \"../components/Card.js\";\n\nexport default function LivroListScreen({ navigation }) {\n\n  const handleDeleteLivro = async (livro) => {\n    try {\n      await livroService.deleteLivro(livro);\n     \n    } catch (error) {\n      console.error(\"Erro ao excluir livro:\", error);\n\n    }\n  };\n\n\n  const [refreshing, setRefreshing] = useState(false);\n  const [Livros, setLivros] = useState([]);\n\n  \n  async function BuscarDados() {\n    const data = await livroService.getAllLivros();\n    setLivros(data);\n  }\n  \n  useEffect(() => {\n    BuscarDados();\n  }, []);\n  \n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    await BuscarDados();\n    setRefreshing(false);\n  }, []);\n  \n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView style={styles.scrollView} refreshControl={\n        <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n      }>\n        <View>\n          <View style={{ alignItems: \"center\" }}>\n            <Text style={styles.texto}>Seus Livros</Text>\n          </View>\n          <View style={styles.conteudo}>\n            {Livros.map((Livro) => (\n              <Card key={Livro.id} livro={Livro} onDelete={handleDeleteLivro} />\n            ))}\n          </View>\n        </View>\n      </ScrollView>\n      <View style={styles.buttons}>\n        <FAB\n          mode=\"contained\"\n          icon=\"book-plus\"\n          color='white'\n          style={styles.fab}\n          onPress={() => navigation.navigate(\"LivroAdd\")}\n        >\n        </FAB>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"#cad2c5\",\n  },\n  scrollView: {\n    marginHorizontal: 9,\n  },\n  conteudo: {\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  texto: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"black\",\n  },\n  buttons: {\n    position: \"absolute\",\n    bottom: 100,\n    right: 30,\n    zIndex: 1,\n    borderRadius: 20,\n    height: 60,\n    width: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  fab: {\n    backgroundColor: \"white\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}